@charset "UTF-8";

// -----------------------------------------------------------------------------
// Variables
// -----------------------------------------------------------------------------

$button-h: 36px;
$button-h-s: 36px;
$button-h-l: 46px;
$button-h-bl: 56px;
$menu-h: 60px;
$border-radius: 5px;
$space: 20px;
$max-w: 1320px;

$yellow24: #dedc00;
$bg-general: "../images/bg24/bg24-General.png";
$bg-experiences: "../images/bg24/bg24-Experiences.png";
$bg-performances: "../images/bg24/bg24-Performances.png";

$green23: #4dffb7;
$lilla23: #bd9ef9;
$cyan23: #4dffd3;
$dark: #1d1e1f;

$green23-dark1: #32eea2;
$lilla23-dark1: #a786e7;

// inverted colors work mainly with css variables.
// there's still a body data param for special cases like the page opening.
body {
  position: relative;
  --color24-accent: #{$yellow24};
  --color23-one: #{$green23};
  --color23-two: #{$yellow24};
  --color23-one-dark1: #{$green23-dark1};
  --color23-two-dark1: #{$lilla23-dark1};
  // &[data-inverted-colors="yes"] {
  //   --color23-one: #{$lilla23};
  //   --color23-two: #{$green23};
  //   --color23-one-dark1: #{$lilla23-dark1};
  //   --color23-two-dark1: #{$green23-dark1};
  // }
}

// -----------------------------------------------------------------------------
// External files import
// -----------------------------------------------------------------------------

@import "bootstrap-scss/_functions";
@import "bootstrap-scss/_variables";
@import "bootstrap-scss/mixins/_breakpoints";
@import "_reset";
@import "_typography";
@import "_mixins";
@import "_switch";
@import "hamburger-settings";
@import "hamburgers/hamburgers";

$ka-cookie-bg: black !default;
$ka-cookie-color: rgba(255, 255, 255, 0.7) !default;
$ka-cookie-link-color: white !default;
$ka-cookie-link-color-hover: $yellow24 !default;
$ka-cookie-btn-bg: $yellow24 !default;
$ka-cookie-btn-color: black !default;
$ka-cookie-position: bottom-right !default; // top-left, top-right, bottom-left, bottom-right
@import "../../site/plugins/cookie/cookie.scss";

// -----------------------------------------------------------------------------
// Utilities
// -----------------------------------------------------------------------------

.color-white {
  color: white;
}
.color-black {
  color: black;
}
.color-white-50 {
  color: rgba(white, 0.5);
}
.bg-white {
  background-color: white;
}
.bg-black {
  background-color: black;
}
.bg-green {
  background-color: var(--color23-one);
}
.bg-lilla {
  background-color: $lilla23;
}
.hover-green:hover {
  color: $green23;
}
.no-u {
  text-decoration: none;
}
.u-hover {
  text-decoration: none;
  &:hover {
    text-decoration: underline;
  }
}
.pointer {
  cursor: pointer;
}
.upper {
  text-transform: uppercase;
}
.lower {
  text-transform: none;
}
.weight-900 {
  font-weight: 900 !important;
}
.font-bold {
  font-weight: 700;
}
.font-regular {
  font-weight: 400;
}
.opacity-05 {
  opacity: 0.5;
}
.two-cols {
  @include media-breakpoint-up(lg) {
    column-count: 2;
  }
}
.p-space-1 {
  padding: #{$space * 1};
}
.mr-space-1 {
  margin-right: #{$space * 1};
}
.pointer-events-none {
  pointer-events: none;
}
.no-wrap {
  white-space: nowrap;
}

.space-1 {
  height: #{$space * 1};
}
.space-2 {
  height: #{$space * 2};
}
.space-3 {
  height: #{$space * 3};
}
.space-4 {
  height: #{$space * 4};
}
.space-6 {
  height: #{$space * 6};
}
.space-8 {
  height: #{$space * 8};
}

// -----------------------------------------------------------------------------
// ICONS
// -----------------------------------------------------------------------------

// span.i-nearr::before {
//   content: url("../images/icon-nearr.svg");
//   width: 1.7em;
// }

// -----------------------------------------------------------------------------
// General tags & classes
// -----------------------------------------------------------------------------

* {
  // text-rendering: auto;
  // text-rendering: optimizeSpeed;
  // text-rendering: optimizeLegibility;
  text-rendering: geometricPrecision; // OK on chrome
}

html {
  width: 100%;
  position: relative;
  scroll-behavior: smooth;
}

body {
  width: 100%;
  position: relative;
  overflow-x: hidden;
  width: 100vw;
  background-color: black;
  color: black;
  font-size: 0; // to fix space at the end
  &.media-open {
    overflow: hidden;
  }
}

main {
  background-color: none;
}

hr {
  border-top: 0.5px solid rgba(0, 0, 0, 0.1);
}

section {
  max-width: 100vw;
  overflow: hidden;
}

a {
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 10%;
  color: inherit;
  @at-root body:not([data-user-can-touch="true"]) {
    transition: color 200ms;
  }
  &:hover {
    color: var(--color24-accent);
  }
  cursor: pointer;
}

em,
strong {
  font-style: normal;
  font-weight: 900;
}

i.fontello {
  font-family: fontello;
  font-style: normal;
  font-weight: normal;
  // speak: never;
  position: relative;
  top: 0.1em;
}

// -----------------------------------------------------------------------------
// BLOCKS & KIRBY TEXTS
// -----------------------------------------------------------------------------

.page-body {
  position: relative;
  padding-top: #{$space * 4};
  padding-bottom: #{$space * 1.5};
  background-color: white;

  &[data-has-children="yes"] {
    background-color: transparent;
  }
  @at-root body[data-template="home"] & {
    background-color: transparent;
  }

  .block {
    &:not([data-marginbottom="false"]):not(.t23_space) {
      padding-bottom: 120px;
    }
  }

  .block.t23_textImgCta {
    figure,
    img {
      position: relative;
      width: 100%;
    }
  }

  .block.t23_multicolumns {
    figure,
    img {
      position: relative;
      width: 100%;
    }
  }

  .block.t23_accordion {
    .items {
      .item {
        margin-left: -10px;
        margin-right: -10px;
        padding: 10px;
        border: 1px solid black;
        border-radius: $border-radius;
        margin-bottom: 10px;
        &.open {
          transform: margin-bottom 200ms, margin-top 200ms;
          color: var(--color24-accent);
          color: white;
          background-color: $dark;
          .title {
            color: var(--color24-accent);
            .arrow {
              transform: rotate(45deg);
            }
          }
        }

        .title {
          @include font-m;
          font-weight: 900;
          cursor: pointer;
          display: flex;
          align-items: baseline;
          justify-content: space-between;
          &:hover {
            color: var(--color24-accent);
          }
          .arrow {
            font-weight: 400;
            transition: transform 200ms;
          }
        }
        .content {
          // padding-top: 10px;
          @include font-s;
          p {
            @include font-s;
            max-width: 60em;
            padding-top: 1em;
          }
        }
      }
    }
  }
}

.colored-bold p {
  em,
  strong {
    color: var(--color24-accent);
  }
}

.kt-paragraphs {
  p {
    margin-bottom: 0.8em;
    em,
    strong {
      font-style: normal;
      font-weight: 900;
    }
  }
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 0 0 20px 0;
    padding: 0 0 0 0;
    font-weight: 900;
  }
  .shwa {
    position: relative;
    display: inline-block;
    // V2
    transform: rotate(180deg) translateY(-0.23em);

    // V1
    // transform: rotate(180deg);
    // top: 0.27em;
  }
}

.details-item .title .shwa {
  transform: rotate(180deg);
  position: relative;
  display: inline-block;
  top: 0.22em;
}

// -----------------------------------------------------------------------------
// REUSABLE PIECES
// -----------------------------------------------------------------------------

.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: $button-h;
  position: relative;
  @include font-s;
  font-weight: 900;
  text-decoration: none;
  text-transform: uppercase;
  padding: 0 #{$space};
  transition: all 100ms;
  background-color: black;
  color: white;
  border-radius: $border-radius;
  &:hover,
  &.active {
    color: var(--color24-accent) !important;
  }
  &.ticket {
    padding: 0 #{$space * 0.7};
    height: $button-h-s;
    text-transform: none;
    border: 1px solid rgba(255, 255, 255, 0.5);
    &.disabled {
      border: 1px solid rgba(255, 255, 255, 0.5);
      color: white;
    }
  }
  &.large {
    height: $button-h-l;
    @include font-m;
    // font-weight: 900;
    text-transform: none;
    padding: 0 #{$space};
    &::after {
      transform: scale(1.4);
      left: 10px;
    }
    text-transform: none;
  }
  &.disabled {
    background-color: transparent;
    color: black;
    pointer-events: none;
    border: 1px solid black;
  }
}
.button + .button {
  margin-left: 10px;
}

.button-bling {
  $layer-dist: 5px;
  $layer-dist-hover: 3px;
  // border: 1px solid red;
  padding-top: #{$layer-dist * 4};
  padding-right: #{$layer-dist * 4};
  // background-color: red;
  position: relative;
  display: inline-block;
  padding-bottom: #{$layer-dist * 4};
  transition: padding-bottom 200ms;
  margin-top: 20px;
  margin-bottom: 0px;
  .layer {
    position: absolute;
    width: calc(100% - #{$layer-dist * 4});
    height: calc(100% - #{$layer-dist * 4});
    background-color: $dark;
    border: 0.5px solid var(--color24-accent);
    border-radius: $border-radius;
    transition: margin 200ms;
    &.one {
      margin-left: #{$layer-dist * 0};
      margin-top: -#{$layer-dist * 0};
    }
    &.two {
      margin-left: #{$layer-dist * 1};
      margin-top: -#{$layer-dist * 1};
    }
    &.three {
      margin-left: #{$layer-dist * 2};
      margin-top: -#{$layer-dist * 2};
    }
    &.four {
      margin-left: #{$layer-dist * 3};
      margin-top: -#{$layer-dist * 3};
    }
    &.last {
      position: relative;
      margin-left: #{$layer-dist * 4};
      margin-top: -#{$layer-dist * 4};
      margin-right: -#{$layer-dist * 4};
      width: auto;
      height: auto;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      height: $button-h-bl;
      @include font-m;
      font-weight: 900;
      text-decoration: none;
      padding: 0 #{$space * 2};
      background-color: var(--color24-accent);
      color: black;
      border-radius: $border-radius;
    }
  }
  &:hover,
  &:active {
    padding-bottom: #{$layer-dist-hover * 4};
    .layer {
      &.one {
        margin-left: #{$layer-dist-hover * 0};
        margin-top: -#{$layer-dist-hover * 0};
      }
      &.two {
        margin-left: #{$layer-dist-hover * 1};
        margin-top: -#{$layer-dist-hover * 1};
      }
      &.three {
        margin-left: #{$layer-dist-hover * 2};
        margin-top: -#{$layer-dist-hover * 2};
      }
      &.four {
        margin-left: #{$layer-dist-hover * 3};
        margin-top: -#{$layer-dist-hover * 3};
      }
      &.last {
        position: relative;
        margin-left: #{$layer-dist-hover * 4};
        margin-top: -#{$layer-dist-hover * 4};
        margin-right: -#{$layer-dist-hover * 4};
      }
    }
  }
}

// ----------------

.program-filters {
  margin-left: -10px;
  margin-right: -10px;
  display: flex;
  flex-flow: row wrap;
  justify-content: flex-start;
  align-items: flex-start;
  .input-group {
    margin-left: 10px;
    margin-right: 10px;
  }
}

.radio-group {
  display: inline-block;
  margin-bottom: 10px;
  .button {
    margin-left: -1px;
    border-radius: 0;
    border: 1px solid black;
    // font-weight: 400;
    @include media-breakpoint-down(sm) {
      padding-left: 8px;
      padding-right: 8px;
    }
    &:first-of-type {
      border-top-left-radius: $border-radius;
      border-bottom-left-radius: $border-radius;
    }
    &:last-of-type {
      border-top-right-radius: $border-radius;
      border-bottom-right-radius: $border-radius;
    }
    &:not(.selected) {
      color: black;
      background-color: transparent;
      border: 1px solid black;
    }
    &.selected {
      pointer-events: none;
    }
    &:hover {
      color: black !important;
      background-color: rgba(0, 0, 0, 0.1);
    }
  }
  // & + .radio-group {
  //   margin-left: 20px;
  // }
}

.button.tag {
  // &::before { content: "#"; }
  text-transform: none;
  margin-bottom: 10px;
  // font-weight: 400;
}

.btn-select {
  display: inline-block;
  position: relative;
  .button.off {
    position: relative;
    z-index: 3;
    border: 1px solid black;
    background-color: transparent;
    color: black;
  }
  .button.selected {
    position: relative;
    z-index: 3;
    font-weight: 400 !important;
    text-transform: none !important;
    &::after {
      content: "×";
      display: inline-block;
      margin-left: 7px;
      margin-right: -7px;
      color: var(--color23-one);
    }
  }
  .dropdown {
    z-index: 4;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    transition: opacity 200ms;
    left: 50%;
    transform: translateX(-50%);
    top: 0;
    border: 1px solid black;
    border-radius: $border-radius;
    background-color: var(--color23-one);
    display: flex;
    flex-flow: column nowrap;
    align-items: center;
    justify-content: flex-start;
    padding: 7px 20px 10px 20px;
    @include font-s;
    a {
      margin: 7px 0;
    }
  }
  .sensi-close {
    opacity: 0;
    pointer-events: none;
    transition: opacity 200ms;
    z-index: 2;
    background-color: rgba(0, 0, 0, 0.15);
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
  }
  &.open {
    .dropdown {
      opacity: 1;
      pointer-events: auto;
    }
    .sensi-close {
      opacity: 1;
      pointer-events: auto;
    }
  }
}

// ----------------

@mixin category-label {
  text-transform: capitalize;
  text-transform: uppercase;
  position: absolute;
  top: 10px;
  left: 10px;
  padding: 1px 4px 2px 4px;
  border-radius: 2px;
  z-index: 1;
  @include font-xs;
  font-weight: 900;
}
.event-preview {
  overflow: hidden;
  border-radius: $border-radius;

  display: flex;
  flex-flow: column nowrap;
  justify-content: flex-start;
  align-items: stretch;

  margin-bottom: 20px;

  .image {
    /*DEBUG*/ //border: 1px solid red;
    position: relative;
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    .category {
      @include category-label;
    }
  }
  .texts {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    // .titles {
    //   /*DEBUG*/ //border: 1px solid blue;
    // }
    // .info {
    //   /*DEBUG*/ //border: 1px solid cyan;
    // }
    background-color: black;
    color: white;
    padding: 12px;
    @include font-s;
    .event-title {
      font-weight: 900;
    }
    // .event-subtitle { }
  }

  &[data-type="program-grid"] {
    margin-bottom: 100px;
    @include media-breakpoint-down(sm) {
      margin-bottom: 50px;
    }
    .image {
      padding-bottom: 100%;
    }
    .texts .info {
      .arrow-prev,
      .arrow-next {
        display: none;
      }
      .date-time {
        text-align: right;
        .date {
          font-weight: 900;
        }
        @include media-breakpoint-down(xs) {
          display: none;
        }
      }
    }
  }

  &[data-type="nav-prev"],
  &[data-type="nav-next"] {
    .image {
      padding-bottom: 56.25%;
    }
    .texts .info .date-time {
      display: none;
    }
    .texts br.newline {
      display: none;
    }
    .texts .titles {
      white-space: nowrap;
      overflow: hidden;
      // text-overflow: clip;
      position: relative;
      flex-grow: 1;
      &::after {
        content: "";
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        right: 0;
        width: 20px;
        background: linear-gradient(
          to right,
          rgba(black, 0) 0%,
          rgba(black, 1) 50%,
          rgba(black, 1) 100%
        );
      }
    }

    @include media-breakpoint-down(sm) {
      .texts br.newline {
        display: block;
      }
      .image {
        padding-bottom: 100%;
      }
      .texts {
        flex-flow: column nowrap !important;
        justify-content: space-between !important;
        .titles {
          margin-left: 0 !important;
          margin-right: 0 !important;
          width: 100%;
          // white-space: normal;
          // &::after {
          //   content: none;
          // }
        }
        .info {
          margin-top: 20px;
        }
      }
    }

    &[data-type="nav-prev"] {
      .texts {
        flex-flow: row-reverse;
        justify-content: flex-end;
      }
      .texts .titles {
        margin-left: 10px;
      }
      .texts .info .arrow-next {
        display: none;
      }
      // .texts .info .arrow-prev {
      //   flex-order: 0;
      // }
    }
    &[data-type="nav-next"] {
      .texts .titles {
        margin-right: 10px;
      }
      .texts .info .arrow-prev {
        display: none;
      }
      @include media-breakpoint-down(sm) {
        .texts {
          align-items: flex-end !important;
        }
      }
    }
  }

  &[data-type="small"],
  &[data-type="small-soft"] {
    $height: 90px;
    flex-flow: row nowrap;
    height: $height;
    .image {
      width: $height;
      min-width: $height;
      .category {
        display: none;
      }
      background-color: black;
    }
    .texts {
      flex-grow: 1;
      .info {
        display: none;
      }
    }
  }

  &[data-type="small-soft"] {
    .texts {
      color: white;
      background-color: black;
    }
  }

  &[data-is-past="yes"] {
    .image {
      filter: grayscale(1);
      opacity: 0.4;
    }
  }
}
.event-preview[data-category="performances"] .image .category {
  color: black;
  background-color: $yellow24;
}
.event-preview[data-category="experiences"] .image .category {
  color: $yellow24;
  background-color: black;
}

@mixin details-item-style {
  @include font-s;
  margin-bottom: 1em;
  .title {
    @include font-s;
    font-weight: 900;
  }
  .text p {
    @include font-s;
    padding-right: 3.5em;
  }
}
.event-page-24 {
  margin-bottom: 100px;
  section.image {
    position: relative;
    padding-bottom: 56.25%;
    @include media-breakpoint-down(lg) {
      padding-bottom: 100%;
    }
    .event-img {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      .credits {
        position: absolute;
        @include font-xxs;
        color: white;
        right: 10px;
        bottom: 7px;
        text-shadow: rgba(0, 0, 0, 0.8) 0 0 2px;
      }
    }
  }
  &[data-is-past="yes"] section.image .event-img {
    filter: grayscale(1);
    opacity: 0.4;
  }
  section.texts {
    position: relative;
    background-color: white;
    padding-top: #{$space * 2};
    padding-bottom: #{$space * 4};

    .details-item {
      @include details-item-style;
      &.info,
      &.star {
        // border: 1px solid black;
        // border-radius: $border-radius;
        // padding: 8px 11px 11px 11px;
        .title {
          margin-left: -0.2em;
        }
      }
      &.info {
        .title::before {
          content: "▶  ";
        }
        .title {
          margin-bottom: 0.5em;
        }
      }
      &.star {
        .title::before {
          content: "★  ";
        }
        // display: inline-block;
      }
    }
  }
  .related {
    position: relative;
    background-color: white;
    padding-bottom: #{$space * 4};
  }
}

.prog-butt-container {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
}

@keyframes blink {
  0% {
    opacity: 0.5;
  }
  25% {
    opacity: 0.5;
  }
  50% {
    opacity: 0.3;
  }
  75% {
    opacity: 0.5;
  }
  100% {
    opacity: 0.5;
  }
}

figure.full-w img,
img.full-w {
  width: 100%;
}

[data-url] {
  cursor: pointer;
}

[id^="anchor-"] {
  position: relative;
  opacity: 0;
  margin-top: -150px;
  margin-bottom: 150px;
}

.square {
  height: 0;
  padding-top: 100%;
  background-color: var(--color23-one);
  position: relative;
  .content {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    figure {
      width: 90%;
      max-width: 500px;
    }
  }
}

.green-details {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  div {
    width: calc(50% - 10px);
  }
}

.tr-modal-container {
  z-index: 30;
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 800ms;
  &.show {
    opacity: 1;
    pointer-events: auto;
    .tr-modal {
      top: 0;
    }
  }
  .tr-modal-overlay {
    z-index: 1;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    background-color: rgba(0, 0, 0, 0.95);
  }
  .tr-modal {
    z-index: 2;
    position: relative;
    top: 400px;
    transition: top 800ms;
    width: 90%;
    max-height: 90vh;
    max-width: 800px;
    @include media-breakpoint-down(xs) {
      max-height: calc(100vh - 40px);
      max-width: calc(100vw - 40px);
      width: auto;
    }
    overflow-y: scroll;
    // max-height: 600px;
    background-color: white;
    .tr-title {
      position: relative;
      height: 180px;
      display: flex;
      align-items: flex-end;
      justify-content: flex-start;
      padding: $space;
      padding-bottom: 5px;
      background-position: top center;
      background-size: cover;
      background-color: $yellow24;

      @include media-breakpoint-down(xs) {
        background-color: $yellow24;
      }
      h2 {
        @include font-xl;
        color: black;
      }
      .tr-close {
        position: absolute;
        right: $space;
        top: 15px;
        @include font-s;
        // font-weight: 700;
        text-decoration: none;
      }
    }
    .tr-content {
      padding: $space;
    }
  }
}

// -----------------------------------------------------------------------------
// MARQUEE
// https://codepen.io/girish/pen/dgWqBr
// https://stackoverflow.com/questions/45847392/pure-css-continuous-horizontal-scroll-without-break
// https://tympanus.net/codrops/2020/03/31/css-only-marquee-effect/
// -----------------------------------------------------------------------------

// v5 -------------------------------

.marquee-v5 {
  z-index: 1;
  position: relative;

  // &.home { color: var(--color23-two); }

  .marquee-wrapper {
    @include font-footer;
    span {
      @include font-footer;
    }
    height: 1em;
    cursor: pointer;
    &:hover .marquee span {
      color: var(--color24-accent);
    }
    &.hover-black:hover .marquee span {
      color: black;
    }
    position: relative;
  }

  --marquee-width: 100vw;
  --offset: 20vw;
  --move-initial: calc(-25% + var(--offset));
  --move-final: calc(-50% + var(--offset));
  counter-reset: menu;

  /* Make sure 3 items are visible in the viewport by setting suitable font size. */

  .marquee {
    position: absolute;
    top: 0;
    left: 0;
    width: var(--marquee-width);
    overflow: hidden;
    pointer-events: none;
    mix-blend-mode: color-burn;
  }

  .marquee__inner {
    width: fit-content;
    display: flex;
    position: relative;
    transform: translate3d(var(--move-initial), 0, 0);
    transform: translateX(var(--move-initial));
    animation: marquee 5s linear infinite;
    animation-play-state: paused;
    opacity: 0;
    transition: opacity 0.1s;

    &.slow {
      animation-duration: 8s;
    }
  }

  .marquee .marquee__inner {
    animation-play-state: running;
    opacity: 1;
    transition-duration: 0.4s;
  }

  .marquee span {
    text-align: center;
    white-space: nowrap;
    padding: 0 0.15em;
  }

  @keyframes marquee {
    0% {
      transform: translate3d(var(--move-initial), 0, 0);
    }

    100% {
      transform: translate3d(var(--move-final), 0, 0);
    }
  }
}

$marqueetime: 26s;

// -----------------------------------------------------------------------------
// SPECIFIC
// -----------------------------------------------------------------------------

#body-background {
  position: absolute;
  width: 100%;
  height: 100%;
  background-image: url($bg-general);
  background-size: 100% 3000px;
  background-repeat: repeat-y;
  background-position: top left;
}

nav#menu-header {
  z-index: 26;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  transition: background-color 200ms, padding 200ms, opacity 200ms;
  padding: 0;

  overflow: hidden;
  .menu-wrapper {
    height: $menu-h;
  }
  .left {
    @include font-s;
    color: black;
    font-weight: 700;
    img {
      margin-right: 6px;
    }
  }
  a#header-low-a {
    margin-right: 3px;
    &:hover {
      color: grey;
      text-decoration: none;
    }
  }

  #header-bg {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-image: url($bg-general);
    background-size: 100% 3000px;
    background-repeat: repeat-y;
    background-position: top left;
    opacity: 0;
    transition: opacity 800ms;
    // @at-root body[data-template*="home"][data-home-scrolled-by="yes"] & {
    @at-root body[data-home-scrolled-by="yes"] & {
      opacity: 1;
    }
    // @at-root body:not([data-template*="home"])[data-scrolled-by-threshold="yes"]
    @at-root body[data-scrolled-by-threshold="yes"] & {
      opacity: 1;
    }
  }

  // @at-root body:not([data-home-scrolled-by="yes"]):not(.menu-xs-open) & {
  //   opacity: 0;
  //   pointer-events: none;
  //   transition: background-color 200ms, padding 200ms, opacity 200ms;
  // }
}

.menu-wrapper {
  .items {
    a.item {
      text-decoration: none;
      color: black;
      @include font-s;
      font-weight: 700;
      &.active {
        color: var(--color24-accent);
      }
      &:hover {
        color: var(--color24-accent);
      }
      &:not(.lang) {
        margin-right: 18px;
      }
      &.lang + .lang {
        margin-left: 7px;
      }
    }
  }
}

#menu-xs {
  z-index: 25;
  position: fixed;
  top: 0;
  right: -100%;
  width: 100%;
  height: 100%;
  overflow-y: scroll;
  background-color: black;
  background-image: url($bg-general);
  background-size: 100% 3000px;
  background-repeat: repeat-y;
  background-position: top left;
  padding: $menu-h 0;
  @include transition(right 400ms);
  @at-root body.menu-xs-open & {
    right: 0;
  }
  display: flex;
  flex-flow: column nowrap;
  justify-content: center;
  align-items: stretch;

  a.item {
    color: black;
    text-decoration: none;
    text-align: center;
    display: block;
    overflow: hidden;
    @include font-xl;
    font-weight: 700;
    line-height: 1.1em;
    // text-transform: uppercase;
    &.small {
      @include font-s;
      display: inline-block;
    }
    &.active {
      color: var(--color24-accent);
    }
  }
}

section#submenu {
  background-color: $dark;
  position: sticky;
  top: $menu-h;
  z-index: 20;
  .items {
    height: $menu-h;
    display: flex;
    align-items: center;
    justify-content: flex-start;

    // ------------------------------
    // !!! try if this makes any mess
    overflow-x: scroll;
    // ------------------------------

    .item {
      @include font-s;
      font-weight: 700;
      text-decoration: none;
      margin-right: $space;
      color: white;
      &.active,
      &:hover {
        color: var(--color24-accent);
      }
    }
  }

  &.tickets {
    position: fixed;
    left: 0;
    right: 0;
    transition: opacity 400ms;
    opacity: 0;
    pointer-events: none;
    @at-root body[data-scrolled-by-submenu-threshold="yes"] & {
      opacity: 1;
      pointer-events: auto;
    }
    .items {
      justify-content: space-between;
      .mob-texts {
        position: relative;
        // flex-shrink: 1;
        // max-width: 100%;
        overflow: hidden;
        // text-overflow: clip;
        // text-overflow: ellipsis;
        white-space: nowrap;
        // h5,
        // span {}
      }
      .mob-button {
        position: relative;
        &::before {
          content: "";
          display: block;
          position: absolute;
          top: 0;
          bottom: 0;
          right: 100%;
          width: 20px;
          background: linear-gradient(
            to right,
            rgba($dark, 0) 0%,
            rgba($dark, 1) 50%,
            rgba($dark, 1) 100%
          );
        }
      }
    }
  }
}

section.page-intro {
  // background-color: black;
  position: relative;
  color: black;
  padding-top: #{$space * 2};
  padding-bottom: #{$space * 5};
  padding-left: 0;
  padding-right: 0;
  .kt,
  .kt p {
    @include font-l;
    margin-bottom: 0;
    em,
    strong {
      color: var(--color24-accent);
      font-style: normal;
      font-weight: 900;
    }
  }
}

section#footer {
  position: relative;
  padding-top: 40px;
  background-color: black;
  color: white;
}

section.opening-page {
  padding-top: 150px;

  @at-root body[data-inverted-colors="no"] & {
    background: rgb(77, 255, 218);
    background: linear-gradient(
      180deg,
      rgba(77, 255, 218, 1) 25%,
      rgba(77, 255, 183, 1) 100%
    );
  }

  &.event {
    .subtitle-line {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
    }
  }
}

// ------------------------------------------------------------------------
// PAGE :: MAP
// ------------------------------------------------------------------------

#map.mapbox {
  height: 80vh;
  margin-bottom: 120px;

  .marker {
    background-image: url("../images/mapbox-marker.svg");
    background-size: cover;
    width: 35px;
    height: 44px;
    // border-radius: 50%;
    cursor: pointer;
  }

  .mapboxgl-popup {
    max-width: 450px !important;
    @include media-breakpoint-down(xs) {
      max-width: 300px !important;
    }
  }

  // .mapboxgl-popup-content {
  //   text-align: center;
  // }

  .mapboxgl-popup-anchor-right,
  .mapboxgl-popup-anchor-bottom,
  .mapboxgl-popup-anchor-left,
  .mapboxgl-popup-anchor-top,
  .mapboxgl-popup-anchor-bottom-left,
  .mapboxgl-popup-anchor-bottom-right,
  .mapboxgl-popup-anchor-top-left,
  .mapboxgl-popup-anchor-top-right {
    .mapboxgl-popup-tip {
      border-top-color: transparent;
      border-bottom-color: transparent;
      border-left-color: transparent;
      border-right-color: transparent;
    }
  }

  .mapboxgl-popup-content {
    background-color: white;
    border-radius: #{$border-radius * 2};
    border: 1px solid black;
    padding: 15px;
    padding-right: 35px;
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.4);
    .flexo {
      display: flex;
      align-items: flex-start;
      justify-content: flex-start;
      @include media-breakpoint-down(xs) {
        display: block;
      }
      div.left {
        min-width: 125px;
        max-width: 125px;
        margin-right: 15px;
        @include media-breakpoint-down(xs) {
          text-align: center;
          min-width: 100%;
        }
        div.img {
          background-size: cover;
          background-position: center center;
          background-repeat: no-repeat;
          width: 100%;
          padding-top: 100%;
          cursor: pointer;
          @include media-breakpoint-down(xs) {
            display: inline-block;
            margin-bottom: 10px;
            border-radius: $border-radius;
            width: 90px;
            padding-top: 90px;
          }
        }
      }
      div.right {
        h3 {
          @include media-breakpoint-down(xs) {
            text-align: center;
          }
          text-align: left;
          @include font-m;
          font-weight: 900;
          color: $yellow24;
          margin-bottom: 15px;
        }
        p {
          @include font-s;
          text-align: left;
          span.directions {
            // display: block;
            // margin-top: 10px;
            a:hover {
              color: black;
            }
          }
        }
      }
    }
    .mapboxgl-popup-close-button {
      padding: 10px 13px;
      transform: scale(1.5);
      &:hover {
        background-color: transparent;
      }
    }
  }

  .mapboxgl-ctrl.mapboxgl-ctrl-group {
    filter: invert(100%);
    background-color: white;
    button.mapboxgl-ctrl-zoom-out {
      border-top: 1px solid rgba(0, 0, 0, 0.3);
    }
    // .mapboxgl-ctrl-icon {
    // opacity: 0.5;
    // }
  }
}

// ------------------------------------------------------------------------
// PAGE :: PROGRAM
// ------------------------------------------------------------------------

.event-list-item {
  position: relative;
  border-top: 1px solid var(--color24-accent);
  &:last-of-type {
    border-bottom: 1px solid var(--color24-accent);
  }
  padding-top: 25px;
  padding-bottom: 25px;
  // margin: 20px 0;
  // transition: background-color 200ms;
  // @include media-breakpoint-down(sm) {
  //   padding: 5px 10px 10px 10px; margin: 10px -10px;
  // }
  &:hover {
    color: var(--color24-accent);
    .date,
    .time,
    .title,
    .subtitle,
    .tags,
    .venue {
      color: var(--color24-accent);
    }
  }
  .date {
    @include font-l;
    font-weight: 900;
  }
  .time {
    @include font-l;
  }
  .title {
    @include font-l;
    font-weight: 900;
  }
  .subtitle {
    @include font-l;
  }
  .tags,
  .venue {
    @include font-s;
    margin-top: 6px;
    @include media-breakpoint-down(sm) {
      display: none;
    }
  }
  .date,
  .time,
  .title,
  .subtitle,
  .tags,
  .venue {
    transition: color 200ms;
  }

  &[data-is-past="yes"] {
    opacity: 0.4;
  }
}

// ------------------------------------------------------------------------
// PAGE :: EVENT
// ------------------------------------------------------------------------

.event-body {
  position: relative;
  @include media-breakpoint-up(lg) {
    display: flex;
    align-items: stretch;
    justify-content: flex-start;
  }
  .event-img-fixed {
    position: fixed;
    top: $menu-h;
    bottom: 0;
    left: 0;
    display: none;
    background-size: cover;
    background-position: center center;
    @include media-breakpoint-up(lg) {
      width: 40%;
      display: block;
    }
    @include media-breakpoint-up(xl) {
      width: 50%;
    }
  }
  .event-img {
    position: relative;
    background-size: cover;
    background-position: center center;
    @include media-breakpoint-down(md) {
      height: 100vw;
      max-height: calc(100vh - 200px);
    }
    @include media-breakpoint-up(lg) {
      width: 40%;
      height: auto;
      max-height: auto;
      opacity: 0;
      pointer-events: none;
    }
    @include media-breakpoint-up(xl) {
      width: 50%;
    }
  }
  .event-content {
    background-color: white;
    @include media-breakpoint-up(lg) {
      width: 60%;
    }
    @include media-breakpoint-up(xl) {
      width: 50%;
    }

    // .green-details - general
  }
}

table.event-info-table {
  width: 100%;
  border-spacing: 0;
  // border-bottom: 0.5px solid rgba(0,0,0, 0.1);
  td {
    border-top: 0.5px solid rgba(0, 0, 0, 0.1);
    padding: 10px 0 10px 0;
    vertical-align: top;
    &.content {
      width: 100%; // <<<<<<<<<< careful, check it doesn't mess things up!
    }
  }
}
// div.event-info-table-xs {
//   // ...
// }

.logos-xs {
  font-size: 0;
  // border-top: 0.5px solid rgba(0,0,0, 0.1);
  // border-bottom: 0.5px solid rgba(0,0,0, 0.1);
  // padding: 8px 0 15px;
  // margin-bottom: $space;
  .event-logo {
    margin-right: 15px;
  }
}
$lh: 80px;
.logos-cont {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  flex-flow: row wrap;
  .event-logo {
    position: relative;
    // background-color: #f4f4f4;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    // height: $lh;
    max-height: $lh;
    // width: 90px;
    max-width: 100px;
    line-height: 0;
    margin-top: 10px;
    margin-right: 20px;
    // padding: 15px;
    overflow: hidden;
    img {
      width: 100%;
      max-height: $lh;
      // opacity: 0.5;
      mix-blend-mode: multiply;
    }
  }
}

.event-nav {
  z-index: 3;
  position: relative;
  background-color: var(--color23-one);
  padding: #{$space * 2} 0;
}
.event-nav-spacer {
  z-index: 3;
  position: relative;
  padding-bottom: 150px;
  background-color: black;
}

.grid-w {
  max-width: 650px;
}

.pad-event-content {
  padding: $space $space;
  @include media-breakpoint-up(sm) {
    padding: #{$space * 1} 30px;
  }
  @include media-breakpoint-up(lg) {
    padding: #{$space * 1} #{$space * 2};
  }
  // @include media-breakpoint-up(xl) { width: 50%; }
}

#back-to-program {
  z-index: 2;
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  top: $menu-h;
  height: $menu-h;
  left: 15px;
  @include media-breakpoint-up(sm) {
    left: 30px;
  }
  @include media-breakpoint-up(lg) {
    position: fixed;
  }
  @media only screen and (min-width: $max-w) {
    left: calc((100vw - #{$max-w - 60px}) / 2);
  }
  @media only screen and (min-width: #{$max-w + 200px}) {
    left: 30px;
    top: 0;
    z-index: 26;
  }
  a {
    text-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
  }
}

// ------------------------------------------------------------------------
// PAGE :: SUPPORT
// ------------------------------------------------------------------------

$logo-size: 120px;
figure.support-logo {
  width: $logo-size;
  height: $logo-size;
  max-width: $logo-size;
  max-height: $logo-size;
  background-color: transparent;
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: top;
  line-height: 0;
  padding: 15px;
  margin-bottom: 20px;
  margin-left: 20px;
  overflow: hidden;
  img {
    width: 100%;
    height: auto;
    max-height: $logo-size;
    mix-blend-mode: multiply;
    filter: grayscale(100%);
  }
}

// ------------------------------------------------------------------------
// PAGE :: HOME
// ------------------------------------------------------------------------

#opening-home-height {
  // height: calc(120vw - #{$menu-h});
  // @include media-breakpoint-up(sm) { height: calc(70vw - #{$menu-h}); }
  // @include media-breakpoint-up(lg) { height: calc(50vw - #{$menu-h}); }
  // @include media-breakpoint-up(xl) { height: calc(40vw - #{$menu-h}); }
  height: calc(85vh - #{$menu-h});
}
// body[data-template='home'],
// body[data-template='home-post'],
// body[data-template='program-post'] {
//   .page-intro, .page-body { background-color: black; position: relative; }
// }

#opening-home-videos {
  position: relative;
  // padding-top: $menu-h;
  .vid-cont {
    position: relative;
  }
  .content-over-videos {
    z-index: 2;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100%;
    display: flex;
    flex-flow: column nowrap;
    align-items: stretch;
    justify-content: space-between;
    pointer-events: none;
    .top,
    .bottom {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
    }
  }
}

#opening-home-23-3-post {
  position: relative;
  padding-top: $menu-h;
  #vid-cont {
    position: relative;
  }
  .content-home-23-3-post {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100%;
    display: flex;
    align-items: stretch;
    justify-content: space-between;
    flex-flow: column nowrap;
    pointer-events: none;
    .top,
    .bottom {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
    }
  }
}

#opening-home {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  transition: opacity 800ms;
  overflow: hidden;

  /*  Via Cinzia  */
  background: rgb(77, 255, 218);
  background: linear-gradient(
    180deg,
    rgba(77, 255, 218, 1) 75%,
    rgba(77, 255, 183, 1) 100%
  );

  #p5-cont {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    &::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 150px;
      background: linear-gradient(
        180deg,
        rgba(77, 255, 183, 0) 0%,
        rgba(77, 255, 183, 1) 100%
      );
      z-index: 2;
    }
  }

  .content {
    // height: 120vw;
    // @include media-breakpoint-up(sm) { height: 70vw; }
    // @include media-breakpoint-up(lg) { height: 50vw; }
    // @include media-breakpoint-up(xl) { height: 40vw; }
    height: 85vh;
    z-index: 3;
    position: relative;

    display: flex;
    flex-flow: column nowrap;
    align-items: stretch;
    justify-content: space-between;

    .top {
      margin-top: 12px;
    }
    .bottom {
      @include font-l;
      font-weight: 700;
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      padding-bottom: $space;
      .line {
        height: 0.13em;
        background-color: black;
        flex-grow: 1;
        margin-top: 0.1em;
        margin-left: 0.3em;
        margin-right: 0.3em;
      }
    }
  }
}

#home-menu-items {
  z-index: 6;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  .menu-wrapper {
    height: $menu-h;
    display: flex;
    align-items: center;
    justify-content: flex-end;
  }
}

// ------------------------------------------------------------------------
// Home Highlights
// ------------------------------------------------------------------------

.hp-highlights {
  .items {
    .item {
      position: relative;
      cursor: pointer;
      padding: 15px;
      margin: 10px 0;
      border: 1px solid black;
      border-radius: $border-radius;
      transition: background-color 400ms, color 400ms;
      display: flex;
      align-items: stretch;
      justify-content: space-between;
      @include media-breakpoint-down(sm) {
        display: block;
        padding-top: 8px;
      }
      &.open {
        cursor: auto;
        background-color: $dark;
        color: white;
        .title .arrow {
          display: none;
        }
        .right {
          display: block;
        }
      }
      .left {
        display: flex;
        flex-flow: column nowrap;
        align-items: stretch;
        justify-content: space-between;
        width: 100%;
      }
      .right {
        min-width: 50%;
        margin-left: 15px;
        display: none;
      }
      .title {
        display: flex;
        align-items: center;
        justify-content: space-between;
        @include font-m;
        p {
          @include font-m;
        }
        @include media-breakpoint-down(sm) {
          // .arrow { display: none; }
        }
      }
      .img {
        position: relative;
        border-radius: $border-radius;
        // margin: 15px 0;
        height: 0;
        padding-top: 56.25%;
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat;
        .category {
          @include category-label;
          color: black;
          &.performances {
            color: black;
            background-color: $yellow24;
          }
          &.experiences {
            color: $yellow24;
            background-color: black;
          }
        }
      }
      .content {
        @include font-s;
        .info {
          .details-item {
            @include details-item-style;
          }
          @include media-breakpoint-down(sm) {
            margin-bottom: 4px;
            .details-item {
              margin-bottom: 2px;
            }
          }
          @include media-breakpoint-up(md) {
            margin-bottom: 5px;
          }
        }
      }
    }
  }
}

// ------------------------------------------------------------------------
// Layout
// ------------------------------------------------------------------------

.container-fluid {
  max-width: $max-w;
  margin-left: auto;
  margin-right: auto;
  padding-left: 30px;
  padding-right: 30px;
  @include media-breakpoint-down(xs) {
    padding-left: 15px;
    padding-right: 15px;
  }
  &.full-w {
    max-width: 100%;
    padding-left: 20px;
    padding-right: 20px;
  }
}

// -----------------------------------------------------------------------------
// Cookie banner plugin
// https://github.com/schnti/kirby3-cookie
// -----------------------------------------------------------------------------

#cookie_banner-wrapper {
  .cookie_container {
    border-radius: $border-radius;
  }
  .cookie_message {
    @include font-xs;
    margin-bottom: 15px;
  }
  .cookie_btn {
    height: 30px;
    @include font-xs;
    border-radius: $border-radius;
  }
}

// -----------------------------------------------------------------------------
// Mailchimp
// -----------------------------------------------------------------------------

#tr-modal-newsletter {
  #mc_embed_signup {
    width: auto;
  }
}

input[type="text"],
input[type="email"] {
  display: block;
  width: 100%;
  height: 40px;
  border: 1px solid #ccc;
  @include font-s;
  padding: 0 10px;
  margin-top: 5px;
}

// -----------------------------------------------------------------------------
// INVERTED COLORS
// -----------------------------------------------------------------------------

// body[data-colors='invert'] {
//   background-color: $lilla23;
//   main { background-color: $lilla23; }

//   section.page-intro {
//     .kt, .kt p {
//       em, strong {
//         color: $green23;
//       }
//     }
//   }

//   section#footer {
//     background-color: $lilla23;
//   }

// }

// -----------------------------------------------------------------------------
// BOOTSTRAP BREAKPOINTS
// -----------------------------------------------------------------------------

// xs ---                 Portrait phones
// sm ---  576px and up   Small devices (landscape phones)
// md ---  768px and up   Medium devices (tablets)
// lg ---  992px and up   Large devices (desktops)
// xl --- 1200px and up   Extra large devices (large desktops)

// No media query necessary for xs breakpoint as it's effectively `@media (min-width: 0) { ... }`
// @include media-breakpoint-up(sm) { ... }
// @include media-breakpoint-only(md) { ... }
// @include media-breakpoint-between(md, xl) { ... }
// @include media-breakpoint-down(lg) { ... }
